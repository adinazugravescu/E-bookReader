## Diagrama bloc

![Diagrama bloc](/Images/E-Reader.png)


##  Bill of Materials (BOM)

| Componenta/Modul                          | Link achizitie                                                                                                                                                                                                                                                                                       | Datasheet                                                                                                                                                             |
|-------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Buton<br/> (*Model descarcat si adaptat*) | [Buy](https://componentsearchengine.com/prices/TSP1C-RA?manufacturer=KNITTER-SWITCH)                                                                                                                                                                                                                 | [Datasheet](https://docs.rs-online.com/1fd0/0900766b80e2c247.pdf)                                                                                                     |
| Condensator 100nF                         | [Buy](https://ro.mouser.com/ProductDetail/KYOCERA-AVX/04026D104KAT2A?qs=LLG2yGGJ5NhILwMziGI8Xg%3D%3D)                                                                                                                                                                                                | [Datasheet](https://www.mouser.com/catalog/supplier/library/pdf/AVXSurfaceMountCeramic.pdf)                                                                           |
| CPH3225A(C10_SUPERCAP)                    | [Buy](https://ro.mouser.com/ProductDetail/Seiko-Semiconductors/CPH3225A?qs=3etwrb1wR%252BhUOph6lAO7eg%3D%3D)                                                                                                                                                                                         | [Datasheet](https://ro.mouser.com/datasheet/2/360/Seiko_Instruments_MicroBattery_E_20230330_2024Jan_-3561061.pdf)                                                     |
| Condensator 4.7uF                         | [Buy](https://ro.mouser.com/ProductDetail/KEMET/C0402C475M7PACTU?qs=SzIX745sIXFB9Q9KfZhc4g%3D%3D)                                                                                                                                                                                                    | [Datasheet](https://ro.mouser.com/datasheet/2/447/KEM_C1006_X5R_SMD-3316465.pdf)                                                                                      |
| Tantalum Condensator 100uF                | [Buy](https://ro.mouser.com/ProductDetail/KYOCERA-AVX/TAJW107M010RNJ?qs=Wtp%252Bf%2FAeVqIH8v1VxV%252B1Rg%3D%3D)                                                                                                                                                                                      | [Datasheet](https://ro.mouser.com/datasheet/2/40/TAJ-3165264.pdf)                                                                                                     |
| Condensator 1uF                           | [Buy](https://ro.mouser.com/ProductDetail/KYOCERA-AVX/04026D105KAT2A?qs=LLG2yGGJ5NgAzk5fb%252BnzGQ%3D%3D)                                                                                                                                                                                            | [Datasheet](https://ro.mouser.com/datasheet/2/40/cx5r_KGM-3223198.pdf)                                                                                                |
| Condensator 10uF                          | [Buy](https://www.digikey.com/en/products/detail/venkel/C0402X5R100-106MNP/12327194)                                                                                                                                                                                                                 | [Datasheet](https://venkelecd.com/partnumber/datasheet/C0402X5R100-106MNP)                                                                                            |
| CHG_LED                                   | [Buy](https://www.kingbrightusa.com/distyPNInv.asp?sltSearch=distyInv&match=1&txtPartNo=APHM1608ECT)                                                                                                                                                                                                 | [Datasheet](https://www.kingbrightusa.com/images/catalog/SPEC/APHM1608ECT.pdf)                                                                                        |
| USBLC6-2SC6Y                              | [Buy](https://ro.mouser.com/ProductDetail/STMicroelectronics/USBLC6-2SC6Y?qs=gNDSiZmRJS%2FOgDexvXkdow%3D%3D)                                                                                                                                                                                         | [Datasheet](https://ro.mouser.com/datasheet/2/389/usblc6_2sc6y-1852505.pdf)                                                                                           |
| PGB1010603MR                              | [Buy](https://ro.mouser.com/ProductDetail/Littelfuse/PGB1010603MR?qs=gu7KAQ731URLg4GSnNNN7Q%3D%3D)                                                                                                                                                                                                   | [Datasheet](https://www.littelfuse.com/assetdocs/pulseguard-esd-suppressors-pgb1-datasheet?assetguid=8a337998-d54d-466b-be4e-dc5bcd1f9321)                            |
| SD0805S020S1R0                            | [Buy](https://ro.mouser.com/ProductDetail/KYOCERA-AVX/SD0805S020S1R0?qs=jCA%252BPfw4LHbpkAoSnwrdjw%3D%3D)                                                                                                                                                                                            | [Datasheet](https://ro.mouser.com/datasheet/2/40/schottky-3165252.pdf)                                                                                                |
| MBR0530                                   | [Buy](https://ro.mouser.com/ProductDetail/onsemi/MBR0530T1G?qs=3JMERSakeboS%2FFOxJUMWeg%3D%3D)                                                                                                                                                                                                       | [Datasheet](https://www.onsemi.com/download/data-sheet/pdf/mbr0530t1-d.pdf)                                                                                           |
| Condensator 1uF/50V                       | [Buy](https://ro.mouser.com/ProductDetail/KYOCERA-AVX/06035D105MAT2A?qs=k4kUdCzLgS5%252BURKe1SOIeQ%3D%3D)                                                                                                                                                                                            | [Datasheet](https://ro.mouser.com/datasheet/2/40/cx5r_KGM-3223198.pdf)                                                                                                |
| Condensator 0.1uF/50V                     | [Buy](https://ro.mouser.com/ProductDetail/KYOCERA-AVX/04025C104JAT2A?qs=yqaQSyyJnNjAUYBPnTRwrw%3D%3D)                                                                                                                                                                                                | [Datasheet](https://ro.mouser.com/datasheet/2/40/AutoMLCC-2952695.pdf)                                                                                                |
| BD5229G-TR                                | [Buy](https://ro.mouser.com/ProductDetail/ROHM-Semiconductor/BD5229G-TR?qs=4kLU8WoGk0vvnhrrYwdszw%3D%3D)                                                                                                                                                                                             | [Datasheet](https://fscdn.rohm.com/en/products/databook/datasheet/ic/power/voltage_detector/bd52xxg-e.pdf)                                                            |
| XC6220A331MR-G                            | [Buy](https://ro.mouser.com/ProductDetail/Torex-Semiconductor/XC6220A331MR-G?qs=AsjdqWjXhJ8ZSWznL1J0gg%3D%3D)                                                                                                                                                                                        | [Datasheet](https://ro.mouser.com/datasheet/2/760/xc6220-3371556.pdf)                                                                                                 |
| FH34SRJ-24S-0.5SH_99_                     | [Buy](https://ro.mouser.com/ProductDetail/Hirose-Connector/FH34SRJ-24S-0.5SH99?qs=vcbW%252B4%252BSTIpKBl5ap9J8Fw%3D%3D)                                                                                                                                                                              | [Datasheet](https://ro.mouser.com/datasheet/2/185/FH34SRJ_24S_0_5SH_99__CL0580_1255_6_99_2DDrawing_0-1615044.pdf)                                                     |
| USB4110-GF-A                              | [Buy](https://ro.mouser.com/ProductDetail/GCT/USB4110-GF-A?qs=KUoIvG%2F9IlYiZvIXQjyJeA%3D%3D)                                                                                                                                                                                                        | [Datasheet](https://ro.mouser.com/datasheet/2/837/GCT_USB4110_Product_Drawing___20k_cycles-3455479.pdf)                                                               |
| QWIIC_RIGHT_ANGLE                         | [Buy](https://ro.mouser.com/ProductDetail/JST-Commercial/SM04B-SRSS-TBLFSN?qs=cdbOS8ANM9B3FdyA6cNU2A%3D%3D)                                                                                                                                                                                          | [Datasheet](https://ro.mouser.com/datasheet/2/564/eSR_SZ-3476820.pdf)                                                                                                 |
| 112A-TAAR-R03_ATTEND                      | [Buy](https://www.tme.eu/ro/details/mcc-sdmicro/conectori-pentru-cartele/attend/112a-taar-r03/?utm_source=google&utm_medium=cpc&utm_campaign=RUMUNIA%20%5BP%5D%5BDC%5D&gclsrc=aw.ds&gad_source=1&gclid=Cj0KCQjwhr6_BhD4ARIsAH1YdjAAB3boEl8CsGuWhO_BI6GGNh3SIUi2gO3ftspK5-ah9niT38KGMasaAnHZEALw_wcB) | [Datasheet](https://www.attend.com.tw/data/download/file/112A-TAAR-R03.pdf)                                                                                           |
| Bobina                                    | [Buy](https://ro.mouser.com/ProductDetail/Wurth-Elektronik/744043680?qs=PGXP4M47uW6VkZq%252BkzjrHA%3D%3D)                                                                                                                                                                                            | [Datasheet](https://www.we-online.com/components/products/datasheet/744043680.pdf)                                                                                    |
| MCP73831                                  | [Buy](https://ro.mouser.com/ProductDetail/Microchip-Technology/MCP73831T-2ATI-OT?qs=yUQqVecv4qsZbioEUu%252B83g%3D%3D)                                                                                                                                                                                | [Datasheet](https://ro.mouser.com/datasheet/2/268/MCP73831_Family_Data_Sheet_DS20001984H-3441711.pdf)                                                                 |
| PFMF.050.1                                | [Buy](https://ro.mouser.com/ProductDetail/Schurter/PFMF.050.2?qs=1auRipcfynCums5v1iucSA%3D%3D)                                                                                                                                                                                                       | [Datasheet](https://ro.mouser.com/datasheet/2/358/typ_PFMF-1275918.pdf)                                                                                               |
| DMG2305UX-7                               | [Buy](https://ro.mouser.com/ProductDetail/Diodes-Incorporated/DMG2305UX-7?qs=L1DZKBg7t5F%2FNBHrjfxC%252Bg%3D%3D)                                                                                                                                                                                     | [Datasheet](https://www.diodes.com/assets/Datasheets/DMG2305UX.pdf)                                                                                                   |
| SI1308EDL-T1-GE3                          | [Buy](https://ro.mouser.com/ProductDetail/Vishay-Semiconductors/SI1308EDL-T1-GE3?qs=bX1%252BNvsK%2FBramh9tgpOaEw%3D%3D)                                                                                                                                                                              | [Datasheet](https://www.vishay.com/docs/63399/si1308edl.pdf)                                                                                                          |
| Rezistenta 10K                            | [Buy](https://www.digikey.com/en/products/detail/venkel/CR0402-10W-102JT/12332774)                                                                                                                                                                                                                   | [Datasheet](https://data.venkel.com/documents/cr-series?_gl=1*2989pu*_ga*Nzc4NDIxNDY2LjE3NDM3NTUzNDM.*_ga_JRKGBZNVM8*MTc0Mzc1NTM0My4xLjAuMTc0Mzc1NTM0My42MC4wLjA.)    |
| Rezistenta 200                            | [Buy](https://ro.mouser.com/ProductDetail/Vishay-Beyschlag/MCS0402MD2000BE100?qs=3SvaY9RawMJNVte4F12%252BZQ%3D%3D)                                                                                                                                                                                   | [Datasheet](https://www.vishay.com/docs/28952/mcs0402at-mct0603at-mcu0805at-mca1206at.pdf)                                                                            |
| Rezistenta 100K                           | [Buy](https://www.digikey.com/en/products/detail/venkel/CR0402-16W-1003FT/12328296)                                                                                                                                                                                                                  | [Datasheet](https://octopart.com/datasheet/cr0402-16w-1003ft-venkel-16112934)                                                                                         |
| Rezistenta 2.2                            | [Buy](https://www.digikey.com/en/products/detail/venkel/TFCR0402-16W-C-1002BT/12331302)                                                                                                                                                                                                              | [Datasheet](https://data.venkel.com/documents/tfcr-series?_gl=1*1o1n72f*_ga*Nzc4NDIxNDY2LjE3NDM3NTUzNDM.*_ga_JRKGBZNVM8*MTc0Mzc1NTM0My4xLjEuMTc0Mzc1NjA4Mi4yMi4wLjA.) |
| Rezistenta 5K1                            | [Buy](https://ro.mouser.com/ProductDetail/YAGEO/RT0402BRD075K1L?qs=gY0y7AQI9SOxpEAvlEsiTQ%3D%3D)                                                                                                                                                                                                     | [Datasheet](https://ro.mouser.com/datasheet/2/447/PYu_RT_1_to_0_01_RoHS_L_15-3461507.pdf)                                                                             |
| Rezistenta 2K                             | [Buy](https://ro.mouser.com/ProductDetail/Bourns/CR0402AFX-2001GLF?qs=GedFDFLaBXEKjamDtfYtIQ%3D%3D)                                                                                                                                                                                                  | [Datasheet](https://ro.mouser.com/datasheet/2/54/cr_a-1858337.pdf)                                                                                                    |
| Rezistenta 0.47                           | [Buy](https://ro.mouser.com/ProductDetail/Vishay-Beyschlag/MMA02040C4707JB000?qs=YmMt7wOBEV42V6C1Rc7zpg%3D%3D)                                                                                                                                                                                       | [Datasheet](https://www.vishay.com/docs/28713/melfprof.pdf)                                                                                                           |
| Rezistenta 15                             | [Buy](https://ro.mouser.com/ProductDetail/YAGEO/RT0402FRE0715RL?qs=BXCcY9r%252B08DFFpLSkPOIqQ%3D%3D)                                                                                                                                                                                                 | [Datasheet](https://ro.mouser.com/datasheet/2/447/PYu_RT_1_to_0_01_RoHS_L_15-3461507.pdf)                                                                             |
| BME688                                    | [Buy](https://ro.mouser.com/ProductDetail/Bosch-Sensortec/BME688?qs=IS%252B4QmGtzzqQoVDscqwx3A%3D%3D)                                                                                                                                                                                                | [Datasheet](https://ro.mouser.com/datasheet/2/783/bst_bme688_fl000-2307034.pdf)                                                                                       |
| W25Q512JVEIQ                              | [Buy](https://ro.mouser.com/ProductDetail/Winbond/W25Q512JVEIQ?qs=l7cgNqFNU1jw6svr3at6tA%3D%3D)                                                                                                                                                                                                      | [Datasheet](https://ro.mouser.com/datasheet/2/949/Winbond_W25Q512JV_Datasheet-3240039.pdf)                                                                            |
| ESP32-C6-WROOM-1-N8                       | [Buy](https://ro.mouser.com/ProductDetail/Espressif-Systems/ESP32-C6-WROOM-1-N8?qs=8Wlm6%252BaMh8ST02Gmwp74cw%3D%3D)                                                                                                                                                                                 | [Datasheet](https://ro.mouser.com/datasheet/2/891/Espressif_ESP32_C6_WROOM_1__Datasheet_V0_1_PRELIMI-3239987.pdf)                                                     |
| DS3231SN#                                 | [Buy](https://ro.mouser.com/ProductDetail/Analog-Devices-Maxim-Integrated/DS3231SN?qs=1eQvB6Dk1vhUlr8%2FOrV0Fw%3D%3D)                                                                                                                                                                                | [Datasheet](https://ro.mouser.com/datasheet/2/609/DS3231-3421123.pdf)                                                                                                 |
| MAX17048G+T10                             | [Buy](https://ro.mouser.com/ProductDetail/Analog-Devices-Maxim-Integrated/MAX17048G%2bT10?qs=D7PJwyCwLAoGnnn8jEPRBQ%3D%3D)                                                                                                                                                                           | [Datasheet](https://ro.mouser.com/datasheet/2/609/MAX17048_MAX17049-3469099.pdf)                                                                                      |

##  Descriere functionalitate hardware

Proiectul este bazat pe un microcontroller **ESP32-C6-WROOM-1-N8**, alimentat printr-un LDO 3V3 dintr-o baterie Li-Po(1800 mAh). Alimentarea este gestionata de un circuit de incarcare **MCP73831** conectat la USB-C. ESP32-C6-WROOM-1-N8 controleaza toate componentele externe prin interfete standard SPI, I2C si GPIO:

- **E-paper Display** – conectat prin **SPI**
- **SD Card** – **SPI**, pentru stocare
- **NOR Flash** – **SPI**, memorie externa
- **RTC DS3231SN#** – conectat prin **I2C** pentru ceas de timp real
- **SENSOR2 BME688** – senzor de mediu conectat pe aceeasi magistrala **I2C**
- **RESET&BOOT/IO** – conectate prin GPIO
- **Qwiic/Stemma QT** – extensie I2C pentru senzori/modul aditionali
- **Test Pads** – pentru TX/RX UART + debugging hardware

Comunicarea cu display-ul si stocarea se face prin interfete rapide SPI. Toate componentele I2C partajeaza linia SDA si SCL, pentru a minimiza utilizarea pinilor.


##  Utilizarea pinilor ESP32-C6

| Componenta         | Pin ESP32-C6 | Functie     | Justificare                                                  |
|--------------------|--------------|-------------|--------------------------------------------------------------|
| **EPD**            | IO7          | MOSI        | Pin dedicat SPI pentru date, permite viteza mare de transfer |
|                    | IO6          | SCK         | Clock SPI standard                                           |
|                    | IO10         | EPD_CS      | Linie de selectare pentru e-paper                            |
|                    | IO5          | EPD_DC      | Selecteaza intre comanda si date trimise                     |
|                    | IO3          | EPD_BUSY    | Citire stare de ocupare a display-ului                       |
|                    | IO23         | EPD_RST     | Reset hardware                                               |
| **SD Card**        | IO6          | SCK         | Linie separata CS pentru SD card                             |
|                    | IO2          | MISO        | Linie unica pentru citirea datelor                           |
|                    | IO7          | MOSI        | Linie partajata de scriere                                   |
|                    | IO4          | SS_SD       | Linie de chip select pentru SD card                          |
| **NOR Flash**      | IO2          | MISO        | Linie CS separata pentru memoria Flash                       |
|                    | IO7          | MOSI        | Linie partajata de scriere                                   |
|                    | IO11         | FLASH_CS    | Selectare separata a chipului de memorie                     |
|                    | IO6          | SCK         | Clock SPI comun                                              |
| **RTC DS3231SN**   | IO21         | SDA         | Linie I2C standard pentru date                               |
|                    | IO22         | SCL         | Linie I2C standard pentru ceas                               |
|                    | IO18         | RTC_RST     | Reset software controlabil pentru RTC                        |
|                    | IO0          | INT_RTC     | Wake-up de la RTC                                            |
|                    | IO1          | 32KHZ       | Iesire frecventa                                             |
| **BME688**         | IO21         | SDA         | I2C partajat                                                 |
|                    | IO22         | SCL         | I2C partajat                                                 |
|                    | IO19         | I2C_PW      | Control alimentare senzor                                    |
| **Qwiic**          | IO21 / IO22  | SDA/SCL     | ~                                                            |
| **E-paper Power**  | IO20         | EPD_3V3_C   | Activeaza alimentarea prin tranzistor                        |
| **BOOT Button**    | IO9          | IO/BOOT     | Pin standard pentru intrare in modul flash                   |
| **CHANGE Button**  | IO15         | IO/CHANGE   | Permite comutarea intre modurile de functionare              |
| **RESET Button**   | EN           | RESET       | Pin hardware de reset (activ LOW)                            |
| **UART Debug**     | GPIO16       | TX (TXD0)   | Pentru debug/programare                                      |
|                    | GPIO17       | RX (RXD0)   | Pentru debug/programare                                      |
| **USB**            | IO12, IO13   | USB D- / D+ | Comunicare USB-C                                             |

---
## Etapele implementarii proiectului

1. **Realizarea schematicului**  
   Am creat schema electrica pe baza modelului oferit, utilizand componentele si simbolurile din biblioteca furnizata. Am avut grija sa respect toate cerintele tehnice si sa evit erorile de ERC. Avertismentele ramase au fost acceptate, deoarece reies direct din structura impusa de model.

2. **Proiectarea PCB-ului**  
   Am trecut in modul PCB, unde am plasat toate componentele pe stratul top, conform pozitiei si dimensiunilor impuse. Am decupat antena modulului ESP32-C6 si am pozitionat corect toate elementele, astfel incat sa incapa in carcasa.

3. **Rutarea si planul de masa**  
   Am realizat rutarea pe baza constrangerilor din tema, am aplicat plan de masa atat pe stratul top, cat si pe stratul bottom, si am adaugat via stitching intre cele doua straturi pentru integritate electrica .

4. **Adaugarea informatiilor de productie**  
   Am etichetat toate componentele pe silkscreen pentru o vizualizare clara in 3D si pentru productie.

5. **Integrarea modelelor 3D**  
   Am importat modelele 3D corespunzatoare pentru fiecare componenta in parte si le-am creat modelele 3D.

6. **Modelarea carcasei**  
   Am adaptat carcasa astfel incat placa sa se potriveasca perfect in interior, respectand cerintele mecanice de montaj.

7. **Constructia componentelor externe**  
   Am construit modelul 3D al bateriei si al display-ului conform dimensiunilor si detaliilor din datasheet-urile oferite.

###  Probleme intampinate

- Gasirea unui model 3D compatibil cu footprint-ul butonului a fost dificila, asa ca am modificat manual un model descarcat.
- In schematic, anumite warning-uri au fost acceptate deoarece erau implicite in structura designului cerut.
- Au fost acceptate cele doua erori DRC aparute la mufa USB, conform instructiunilor primite.
